---
title: å°çŸ¥è¯†è®°å½•
slug: small-knowledge-notes
description: ''
tags:
  - iOS
pubDate: 2017-12-05
category: æŠ€æœ¯
---

## scrollViewçš„è‡ªåŠ¨åç§»é—®é¢˜


**[iOS7 , iOS11):**


`viewcontroller` å‚æ•° `automaticallyAdjustsScrollViewInsets` å†³å®šå…¶ä¸­scrollviewåç§»é‡å‚æ•° `contentInset`ï¼š


é»˜è®¤æƒ…å†µä¸‹ï¼š`automaticallyAdjustsScrollViewInsets = YES`ï¼Œ`contentInset = {64,0,0,0}`ï¼Œ`tabbarcontroller` æƒ…å†µä¸‹ä¸º `{64,0,49,0}`ï¼Œå¾ˆå®¹æ˜“ç†è§£å‡è®¾è®¾ç½® scorllview çš„ frame ä¸ºå±å¹•å¤§å°ï¼Œå…¶å¯æ§é«˜åº¦ä¸ºå…¶é«˜åº¦å‡æ‰å¯¼èˆªæ¡çš„ 64 å’Œ tabbar çš„ 49ã€‚


å¯¼èˆªæ¡éšè—æ—¶ï¼Œä¸¤ç§æƒ…å†µä¸‹ contentInset åˆ†åˆ«æ˜¯ `{20,0,0,0}`,`{20,0,49,0}`ï¼Œ20 æ˜¯çŠ¶æ€æ çš„é«˜åº¦


**[iOS11,~):**


`viewcontroller` æ–°å¢æ‰€è°“å®‰å…¨åŒºåŸŸï¼Œå¸¦æ¥ä¸€ç³»åˆ—å‚æ•°ï¼š`SafeAreaInsetsã€additionalSafeAreaInsetsã€adjustedContentInsetã€contentInsetAdjustmentBehaviorâ€¦â€¦ï¼›`


åŸæ¥çš„ `automaticallyAdjustsScrollViewInsets` å¤±æ•ˆäº†ï¼Œæ–°çš„æ–¹æ¡ˆè®¤ä¸ºçŠ¶æ€æ å¯¼èˆªæ¡ã€`tabbar` ä¹‹é—´çš„åŒºåŸŸä¸ºå®‰å…¨åŒºåŸŸ


`scrollview` çš„æœ€ç»ˆåç§»é‡ `adjustedContentInset = safeAreaInset + contentInset` ï¼Œ`safeAreaInset` çš„å€¼ä¸iOS 11 ä¹‹å‰çš„ `contentInset` ç›¸åŒï¼ŒiOS11ä¸­ `contentInset` é»˜è®¤ä¸º `{0,0,0,0}`ã€‚


å¯¼èˆªæ¡éšè—æ—¶ï¼Œä¸¤ç§æƒ…å†µä¸‹ `safeAreaInset` åˆ†åˆ«æ˜¯ `{20,0,0,0}`,`{20,0,49,0}`ï¼Œ20 æ˜¯çŠ¶æ€æ çš„é«˜åº¦ã€‚


å¦‚æœä½ æƒ³æŠµæ¶ˆè¿™ç§åç§»ï¼Œæ·»åŠ  `additionalSafeAreaInsets` å‚æ•°ã€‚


```plain text
if (@available(iOS 11.0, *)) {
        self.table.contentInsetAdjustmentBehavior = UIScrollViewContentInsetAdjustmentNever;
    } else {
        self.automaticallyAdjustsScrollViewInsets = NO;
    }
```


---


## æŒ‰é’®å–æ¶ˆå„ç§çŠ¶æ€å¯¹åº”çš„æ•ˆæœ


å¦‚æœç»™æŒ‰é’®è®¾ç½®ä¸€å¼ å›¾ç‰‡ï¼Œæˆ‘ä»¬åœ¨æŒ‰ä¸‹çš„æ—¶å€™ä¼šæœ‰ä¸€ä¸ªé˜´å½±çš„æ•ˆæœã€‚


å–æ¶ˆé˜´å½±ï¼š`self.ghostModeButton.adjustsImageWhenHighlighted = NO;`


å¦‚æœæˆ‘ä»¬è®¾ç½®æŒ‰é’®çŠ¶æ€æ˜¯disabledï¼ŒæŒ‰é’®ä¼šå˜ç°ï¼Œè®¾ç½®ä¸å˜ç°`self.ghostModeButton.adjustsImageWhenDisabled = NO;`


---


## ç»å¸¸ææ··çš„åæ ‡è½¬æ¢


UIViewä¸­çš„åæ ‡è½¬æ¢


```plain text
// å°†åƒç´ pointç”±pointæ‰€åœ¨è§†å›¾è½¬æ¢åˆ°ç›®æ ‡è§†å›¾viewä¸­ï¼Œè¿”å›åœ¨ç›®æ ‡è§†å›¾viewä¸­çš„åƒç´ å€¼
- (CGPoint)convertPoint:(CGPoint)point toView:(UIView *)view;
// å°†åƒç´ pointä»viewä¸­è½¬æ¢åˆ°å½“å‰è§†å›¾ä¸­ï¼Œè¿”å›åœ¨å½“å‰è§†å›¾ä¸­çš„åƒç´ å€¼
- (CGPoint)convertPoint:(CGPoint)point fromView:(UIView *)view;
// å°†rectç”±rectæ‰€åœ¨è§†å›¾è½¬æ¢åˆ°ç›®æ ‡è§†å›¾viewä¸­ï¼Œè¿”å›åœ¨ç›®æ ‡è§†å›¾viewä¸­çš„rect
- (CGRect)convertRect:(CGRect)rect toView:(UIView *)view;
// å°†rectä»viewä¸­è½¬æ¢åˆ°å½“å‰è§†å›¾ä¸­ï¼Œè¿”å›åœ¨å½“å‰è§†å›¾ä¸­çš„rect
- (CGRect)convertRect:(CGRect)rect fromView:(UIView *)view;
```


---


## iOSç³»ç»Ÿæ¡†æ¶å±‚çº§


![1723306-282bb6b02b3edce8.png](https://image.xcanoe.top/blog/4c2a7f14e3afa255be63bc42ac0d7ee8.png)


å¼€å‘çš„æ—¶å€™ä¼˜å…ˆè€ƒè™‘é«˜å±‚çº§ï¼Œå¦‚æœéœ€è¦æ·±åº¦å®šåˆ¶æˆ–è€…æ€§èƒ½ä¼˜åŒ–æ–¹é¢çš„ç‰¹æ€§æ—¶ï¼Œå†è€ƒè™‘ä½¿ç”¨ä½å±‚çº§çš„æ¡†æ¶å’ŒæŠ€æœ¯ã€‚


### Cocoa Touch å±‚


Cocoa Touch Layer åŒ…å«äº†æ„å»ºiOS Appçš„å…³é”®æ¡†æ¶. è¿™äº›æ¡†æ¶å®šä¹‰äº†ä½ çš„Appæ˜¾ç¤ºçš„æ ·å¼. å®ƒä»¬è¿˜æä¾›äº†åŸºæœ¬Appçš„æ„é€ åŸºç¡€å’Œå¯¹å…³é”®æŠ€æœ¯çš„æ”¯æŒ, å¦‚å¤šçº¿ç¨‹, åŸºäºè§¦æ‘¸çš„è¾“å…¥, æ¨é€é€šçŸ¥, å’Œè®¸å¤šé«˜å±‚çº§çš„ç³»ç»ŸæœåŠ¡. åœ¨è®¡åˆ’Appæ—¶, ä½ åº”è¯¥ä¼˜å…ˆè°ƒæŸ¥Cocoa Touchå±‚ä¸­çš„æŠ€æœ¯çœ‹çœ‹æ˜¯å¦æ»¡è¶³ä½ çš„éœ€æ±‚.


![0FCFA63C-6B10-4C20-9AAD-18F667DE9FBE.png](https://image.xcanoe.top/blog/36cd12bf7cb667b1b6b32ae5098adeea.png)


### Media å±‚


Media Layer åŒ…å«äº†ç»˜å›¾(graphics), éŸ³é¢‘(audio)å’Œè§†é¢‘(video)ç­‰å¤šåª’ä½“ä½“éªŒçš„æŠ€æœ¯å®ç°ã€‚


![9234E8D6-6318-4902-87D4-3DF6201AD24E.png](https://image.xcanoe.top/blog/1d8bb9b56a617617958941be79352681.png)


![E400C3DA-9183-4F51-A942-7FAFD5F3E703.png](https://image.xcanoe.top/blog/27283f9cf7eb5ef4e09a6a47252fd342.png)


![8C368C44-055F-49FB-831D-36118D48A403.png](https://image.xcanoe.top/blog/b586e44e222df9b74778e60512b0435f.png)


### Core Serviceså±‚


Core Services Layer åŒ…å«äº†Appçš„åŸºæœ¬ç³»ç»ŸæœåŠ¡. å…¶ä¸­å…³é”®çš„æ¡†æ¶æ˜¯ Core Foundation ä¸ Foundation, å®šä¹‰äº†æ‰€æœ‰Appä½¿ç”¨çš„åŸºæœ¬æ•°æ®ç±»å‹. Core Services Layerè¿˜åŒ…å«äº†æ”¯æŒå®šä½, iCloud, ç¤¾äº¤åª’ä½“å’Œç½‘ç»œçš„ç‰¹å¾å¯¹åº”çš„ç‰¹æ®ŠæŠ€æœ¯.


![995F45A7-A22E-43A2-B9DB-4BB07C210B09.png](https://image.xcanoe.top/blog/d9d4c5001030e770d610209c5c230198.png)


### Core OS å±‚


Core OS Layer åŒ…å«äº†å¤§éƒ¨åˆ†å…¶å®ƒæŠ€æœ¯ä¾èµ–çš„åº•å±‚åŠŸèƒ½. å³ä½¿ä½ æ²¡æœ‰åœ¨Appä¸­ç›´æ¥ä½¿ç”¨è¿™äº›æŠ€æœ¯, ä½†ä»–ä»¬å¾ˆå¯èƒ½åœ¨å…¶ä»–æ¡†æ¶ä¸­è¢«ä½¿ç”¨. åœ¨æŸäº›æƒ…å†µä¸‹, å½“ä½ éœ€è¦ç›´æ¥å¤„ç†æ•°æ®åŠ å¯†æˆ–ä¸å¤–éƒ¨ç¡¬ä»¶é™„ä»¶è¿›è¡Œé€šè®¯æ—¶, ä½ ç¡®å®éœ€è¦ä½¿ç”¨è¯¥å±‚çš„ç›¸å…³æ¡†æ¶ã€‚


![C382B1A9-A70F-4A25-8E08-20BE1B99DD91.png](https://image.xcanoe.top/blog/e71c99f9a67e9724892cc9b3cc1a9f8b.png)


---


## @try @catch å¤„ç†å¼‚å¸¸


```plain text
@try
{
    // ä¸šåŠ¡é€»è¾‘
}
@catch (å¼‚å¸¸ç±»å‹å1 ex)
{
    //å¼‚å¸¸å¤„ç†ä»£ç 
}
@catch (å¼‚å¸¸ç±»å‹å2 ex)
{
    //å¼‚å¸¸å¤„ç†ä»£ç 
}
// å¯ä»¥æ•æ‰ N ä¸ª å¼‚å¸¸ ...
@finally
{
//å›æ”¶èµ„æº
}
```


**å¼‚å¸¸å¤„ç†è¿‡ç¨‹**:

1. ç”Ÿæˆå¼‚å¸¸å¯¹è±¡ : @try ä¸­å‡ºç°å¼‚å¸¸, ç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ªå¼‚å¸¸å¯¹è±¡, è¯¥å¯¹è±¡æäº¤åˆ°ç³»ç»Ÿä¸­ ç³»ç»Ÿå°±ä¼šæŠ›å‡ºå¼‚å¸¸;
2. **å¼‚å¸¸å¤„ç†æµç¨‹**: è¿è¡Œç¯å¢ƒæ¥æ”¶åˆ° å¼‚å¸¸å¯¹è±¡æ—¶, å¦‚æœå­˜åœ¨èƒ½å¤„ç†è¯¥å¼‚å¸¸å¯¹è±¡çš„ @catch ä»£ç å—, å°±å°†è¯¥å¼‚å¸¸å¯¹è±¡äº¤ç»™ @catch å¤„ç†, è¯¥è¿‡ç¨‹å°±æ˜¯æ•è·å¼‚å¸¸, å¦‚æœæ²¡æœ‰ @catch ä»£ç å—å¤„ç†å¼‚å¸¸, ç¨‹åºå°±ä¼šç»ˆæ­¢;
3. **@catch ä»£ç å—æ•è·è¿‡ç¨‹**: è¿è¡Œç¯å¢ƒæ¥æ”¶åˆ° å¼‚å¸¸å¯¹è±¡ æ—¶, ä¼šä¾æ¬¡åˆ¤æ–­è¯¥å¼‚å¸¸å¯¹è±¡ç±»å‹æ˜¯å¦æ˜¯ @catch ä»£ç å—ä¸­å¼‚å¸¸æˆ–å…¶å­ç±»å®ä¾‹, å¦‚æœåŒ¹é…æˆåŠŸ, è¢«åŒ¹é…çš„ @catch å°±ä¼šå¤„ç†è¯¥å¼‚å¸¸, éƒ½åˆ™å°±ä¼šè·Ÿä¸‹ä¸€ä¸ª @catch ä»£ç å—å¯¹æ¯”;
4. @catch å¤„ç†å¼‚å¸¸ : ç³»ç»Ÿå°†å¼‚å¸¸å¯¹è±¡ä¼ é€’ç»™ @catch å½¢å‚, @catch é€šè¿‡è¯¥å½¢å‚è·å–å¼‚å¸¸å¯¹è±¡è¯¦ç»†ä¿¡æ¯;

---


## ä¸å¯è§çš„å­—ç¬¦


BY.èµ”é’±è´§ğŸæ”¶ç§’ğŸŒ‚å¹¶ è¿™ä¸€ä¸²å­—ç¬¦é‡Œé¢å¸¦æœ‰åå­—ç¬¦ï¼Œä¸å¯è§ï¼Œä½†æ˜¯æ”¾åœ¨èŠå¤©è½¯ä»¶é‡Œé¢å‘é€çš„æ—¶å€™ä¼šå˜æˆ**BY.èµ”é’±è´§ğŸæ”¶ç§’ğŸŒ‚å¹¶**ã€‚è¿™æ˜¯å› ä¸ºèŠå¤©è½¯ä»¶å¯¹å®ƒè¿›è¡Œäº†è¿‡æ»¤ã€‚


åŸå› åœ¨äº `\\u0000202d` `\\u0000202c`ï¼Œè¿™ä¸¤ä¸ªå­—ç¬¦ä¸å±äºunicodeç ï¼Œä½†æ˜¯ç•Œé¢æ˜¾ç¤ºæ˜¯æ­£å¸¸çš„ï¼Œä½†å®å®åœ¨åœ¨å­˜åœ¨å¹¶ä¸”å¯¼è‡´å­—ç¬¦ä¸²é•¿åº¦ä¸å¯¹ã€‚


**å¦‚ä½•å»æ‰?**

1. æ›¿æ¢å­—ç¬¦

```plain text
[str stringByReplacingOccurrencesOfString:@"\\\\p{Cf}" withString:@"" options:NSRegularExpressionSearch range:NSMakeRange(0, str.length)];
```

1. è¿‡æ»¤å­—ç¬¦

```plain text
NSCharacterSet *characterSet = [NSCharacterSet characterSetWithCharactersInString:@"0123456789"];
    NSCharacterSet *specCharacterSet = [characterSet invertedSet];
    NSArray *strArr = [str componentsSeparatedByCharactersInSet:specCharacterSet];
    return [strArr componentsJoinedByString:@""];
```


---


## iPhoneçš„ä¸åŒæœºå‹ç³»ç»Ÿæ§ä»¶é«˜åº¦


![systembar-height.png](https://image.xcanoe.top/blog/d2dab08e9085feefa0d54741bafe0eee.png)


---


## é™åˆ¶å¸¦æœ‰emojiçš„å­—ç¬¦é•¿åº¦


[ObjC ä¸­å›½ - NSString ä¸ Unicode](https://objccn.io/issue-9-1/)


```plain text
__block NSString *cutName = [NSString string];
    [name enumerateSubstringsInRange:NSMakeRange(0, [name length]) options:NSStringEnumerationByComposedCharacterSequences usingBlock:^(NSString * _Nullable substring, NSRange substringRange, NSRange enclosingRange, BOOL * _Nonnull stop) {
        cutName = [cutName stringByAppendingString:substring];
        if ([cutName lengthOfBytesUsingEncoding:NSUTF32StringEncoding] / 4 == MaxLenth) {
            cutName = [cutName stringByAppendingString:@"â€¦"];
            *stop = YES;
        }
    }];
```


---


## maskçš„ç†è§£


maskæ˜¯CALayerçš„ä¸€ä¸ªå±æ€§ï¼Œå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªCALayerç±»ã€‚æˆ‘ä»¬ä½¿ç”¨è¯¥å±æ€§ä¸»è¦æ˜¯ä¸ºäº†è®©ä¸¤ä¸ªå›¾å±‚æ­é…å‡ºä¸€ä¸ªæ–°çš„è§†è§‰æ•ˆæœï¼Œç®€å•ç†è§£å°±æ˜¯ä¸€ä¸ªé®ç½©ï¼Œmaskå›¾å±‚åŒºåŸŸå¤–çš„ä»»ä½•åŒºåŸŸä¸æ˜¾ç¤ºã€‚


**å½±å“maskè¡Œä¸ºçš„å› ç´ **


å°±æ˜¯maskå›¾å±‚ï¼ˆæ˜¯é®ç½©å±‚ï¼Œè€Œä¸æ˜¯è¢«é®ç½©å±‚å“¦~ï¼‰çš„é€æ˜åº¦ï¼Œé€æ˜åº¦çš„å–å€¼èŒƒå›´ï¼ˆ0ï¼Œ1ï¼‰ï¼Œè€ŒCALayeré‡Œæœ‰ä¸¤ä¸ªä¸»è¦çš„å±æ€§å’Œé€æ˜åº¦æœ‰å…³ï¼Œå°±æ˜¯contentså±æ€§å’ŒbackgroundCorlorå±æ€§ã€‚æˆ‘ä»¬ç”¨contentsæœ€å¤šçš„å°±æ˜¯ç»™å®ƒèµ‹å€¼ä¸€ä¸ªå›¾ç‰‡ï¼Œè€Œå›¾ç‰‡æ˜¯æœ‰é€æ˜é€šé“å’Œæ— é€æ˜é€šé“çš„ï¼ŒbackgroundColorå±æ€§ä¹Ÿæ˜¯æœ‰é€æ˜åº¦çš„ï¼ˆmaskä¸å…³å¿ƒæ˜¯ä»€ä¹ˆé¢œè‰²ï¼Œåªå…³å¿ƒé¢œè‰²çš„é€æ˜åº¦ï¼‰ï¼Œè€Œä¸”clearColorçš„é€æ˜åº¦æ˜¯0ï¼Œå¯ä»¥å»æŸ¥çœ‹UIColorçš„APIã€‚


**1.** **å½“maskå›¾å±‚å®Œå…¨é€æ˜æ—¶ï¼Œå³é€æ˜åº¦ä¸º0ï¼Œåˆ™é®ç½©åŒºåŸŸä¸æ˜¾ç¤º**


**2.** **å½“maskå›¾å±‚å®Œå…¨ä¸é€æ˜æ—¶ï¼Œå³é€æ˜åº¦ä¸º1ï¼Œåˆ™é®ç½©åŒºåŸŸæ˜¾ç¤º**


**3.** **å½“maskå›¾å±‚çš„é€æ˜åº¦å€¼åœ¨0~1ä¹‹é—´ï¼Œåˆ™maskå›¾å±‚ä¼šå’Œè¢«é®ç½©å±‚å†…å®¹æ··åˆ**


---


## static inline å’Œ static å’Œ å…¨å±€å‡½æ•°


è¡¨ç°ä¸º


```plain text
// å†…è”å‡½æ•°  static inline
static inline UIEdgeInsets UIEdgeInsetRotateVertical(UIEdgeInsets insets) {
     UIEdgeInsets one;
     one.top = insets.left;
     one.left = insets.bottom;
     one.bottom = insets.right;
     one.right = insets.top;
     return one;
}

// é™æ€å‡½æ•° static
static void YYTextGetRunsMaxMetric(CFArrayRef runs, CGFloat *xHeight, CGFloat *underlinePosition, CGFloat *lineThickness) { }

// å…¨å±€å‡½æ•°
CGFloat YYTextScreenScale() {
    static CGFloat scale;
    static dispatch_once_t onceToken;
    dispatch_once(&onceToken, ^{
        scale = [UIScreen mainScreen].scale;
    });
    return scale;
}
```


**static inline**ï¼Œèƒ½å¤Ÿä½¿å‡½æ•°ä¸€ä½œä¸ºä¸€ä¸ªæ ‡å‡†çš„å†…è”å‡½æ•°ï¼Œå‡½æ•°çš„ä»£ç è¢«æ”¾å…¥ç¬¦å·è¡¨ä¸­ï¼Œåœ¨ä½¿ç”¨æ—¶ç›´æ¥è¿›è¡Œæ›¿æ¢ã€‚å»ºè®®ç¼–è¯‘å™¨åœ¨ç¼–è¯‘çš„æ—¶å€™åšå†…è”å¤„ç†ï¼Œä¸éœ€è¦è°ƒç”¨callæŒ‡ä»¤ï¼Œæå‡è°ƒç”¨æ•ˆç‡ã€‚


**static**ï¼Œå£°æ˜é™æ€å˜é‡ã€‚


1ï¼‰ä¿®é¥°å±€éƒ¨å˜é‡çš„æ—¶å€™ï¼Œè®©å±€éƒ¨å˜é‡åªåˆå§‹åŒ–ä¸€æ¬¡ï¼Œå±€éƒ¨å˜é‡åœ¨ç¨‹åºä¸­åªæœ‰ä¸€ä»½å†…å­˜ï¼Œä½†æ˜¯å¹¶ä¸ä¼šæ”¹å˜å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸï¼Œä»…ä»…æ˜¯æ”¹å˜äº†å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆåªåˆ°ç¨‹åºç»“æŸï¼Œè¿™ä¸ªå±€éƒ¨å˜é‡æ‰ä¼šé”€æ¯ï¼‰ã€‚


2ï¼‰ä¿®é¥°å…¨å±€å˜é‡çš„æ—¶å€™ï¼Œå…¨å±€å˜é‡çš„ä½œç”¨åŸŸä»…é™äºå½“å‰æ–‡ä»¶ã€‚


3ï¼‰å½“ä¿®é¥°å‡½æ•°çš„æ—¶å€™ï¼Œå¯¹å‡½æ•°çš„è¿æ¥æ–¹å¼äº§ç”Ÿå½±å“ï¼Œä½¿å¾—å‡½æ•°åªåœ¨æœ¬æ–‡ä»¶å†…éƒ¨æœ‰æ•ˆï¼Œå¯¹å…¶ä»–æ–‡ä»¶æ˜¯ä¸å¯è§çš„ã€‚


**æ²¡æœ‰ä½¿ç”¨æ ‡è¯†ç¬¦**ï¼Œé»˜è®¤æ˜¯externçš„ï¼Œå¯ä»¥è¢«å…¶å®ƒä»£ç æ–‡ä»¶è°ƒç”¨è¯¥å‡½æ•°ã€‚


ä¸ºä»€ä¹ˆinlineå‡½æ•°èƒ½å–ä»£å®ï¼Ÿ


```plain text
1ï¼‰#defineå®šä¹‰çš„å‡½æ•°è¦æœ‰ç‰¹åˆ«çš„æ ¼å¼è¦æ±‚ï¼Œå¹¶ä¸æ˜¯æ¯ä¸ªäººéƒ½èƒ½ç†Ÿç»ƒä½¿ç”¨ï¼Œè€Œä½¿ç”¨`inline`åˆ™å°±è¡Œå¹³å¸¸å†™å‡½æ•°é‚£æ ·ã€‚
2ï¼‰å’Œå…¶ä»–çš„å®å®šä¹‰ä¸€æ ·ï¼Œä½¿ç”¨defineå®å®šä¹‰çš„ä»£ç ï¼Œç¼–è¯‘å™¨ä¸ä¼šå¯¹å…¶è¿›è¡Œå‚æ•°æœ‰æ•ˆæ€§æ£€æŸ¥ï¼Œå¾ˆå®¹æ˜“å‡ºç°æ— æ³•å¯Ÿè§‰çš„é”™è¯¯ï¼Œè°ƒè¯•è¿‡ç¨‹ä¸­ä¼šå‡ºç°å¾ˆå¤šéº»çƒ¦ã€‚
3ï¼‰ä¸ä»…æ˜¯è¾“å…¥ç±»å‹ï¼Œ#defineå®å®šä¹‰çš„ä»£ç ï¼Œè¿”å›å€¼ä¸èƒ½è¢«å¼ºåˆ¶è½¬æ¢æˆå¯è½¬æ¢çš„é€‚åˆçš„è½¬æ¢ç±» ã€‚
4ï¼‰#defineæ˜¯æ–‡æœ¬æ›¿æ¢ï¼Œéœ€è¦åœ¨é¢„ç¼–è¯‘æ—¶å±•å¼€ï¼Œå†…è”å‡½æ•°æ˜¯ç¼–è¯‘æ—¶å€™å±•å¼€ã€‚
```


---


## viewæ˜¯å¦æ˜¾ç¤ºåœ¨å½“å‰ç•Œé¢æ˜¾ç¤º


```plain text
// viewæ˜¯å¦æ˜¾ç¤ºåœ¨å½“å‰ç•Œé¢æ˜¾ç¤º
- (BOOL)isShowInCurrentWindowWithView:(UIView *)view {
    if (!view) {
        return NO;
    }
    UIViewController *currentVC = [ULJumpUtil currentVisibleViewController];
    // æ˜¯å¦æ˜¯å½“å‰VC
    if ([currentVC.view isEqual:view]) {
        return YES;
    }
    //æ˜¯å¦æ˜¯å½“å‰çš„å­view
    return [self hasSubViewWithSubView:view inView:currentVC.view];
}

// æ˜¯å¦åŒ…å«å¯¹åº”çš„å­view
- (BOOL)hasSubViewWithSubView:(UIView*)subView inView:(UIView*)inView {
    if( !inView  ||  !inView.subviews.count ||  !subView) return NO;

    BOOL foundView = NO;
    for(UIView*view in inView.subviews) {
        if([view isEqual:subView]) {
            foundView = YES;
            break;
        }

        foundView = [self hasSubViewWithSubView:subView inView:view];
        //å¦‚æœæ‰¾åˆ°äº†ï¼Œåˆ™ç»ˆæ­¢å¾ªç¯é€’å½’ï¼Œæœ€ç»ˆè¿”å›
        if (foundView) break;
    }
    return foundView;
}
```


---


## Content Hugging Priority ä»¥åŠ Content Compression Resistance Priority


**Content Hugging Priority** æŒ‡çš„æ˜¯è°çš„å†…å®¹ä¼˜å…ˆçº§è¾ƒé«˜ï¼Œviewé»˜è®¤éƒ½æ˜¯250ï¼Œlabelå’Œbuttoné»˜è®¤æ˜¯251ï¼Œå¦‚æœæé«˜è¿™ä¸ªå€¼ï¼Œä¼šä¼˜å…ˆæ ¹æ®å†…å®¹è¿›è¡Œçº¦æŸï¼Œæˆ‘ä»¬è‡ªå·±åœ¨xibä¸­æ‹‰çš„çº¦æŸé»˜è®¤ä¼˜å…ˆçº§æ˜¯1000ï¼Œä¾‹å¦‚å°†labelçš„ä¼˜å…ˆçº§è®¾ç½®æˆ600ï¼Œé‚£ä¹ˆè¿™ä¸ªlabelå°±ä¼šä¼˜å…ˆæ ¹æ®å†…å®¹ç¡®å®šå®½åº¦ã€‚


**Content Compression Resistance Priority** æŒ‡çš„æ˜¯å‹ç¼©é˜»åŠ›ä¼˜å…ˆçº§ï¼Œä¼˜å…ˆçº§è®¾ç½®çš„è¶Šé«˜ï¼Œè¶Šéš¾è¢«å‹ç¼©ï¼Œå¦‚æœä¸¤ä¸ªlabelå¹¶æ’æ˜¾ç¤ºï¼Œå±å¹•å®½åº¦å˜çª„ï¼Œä¼˜å…ˆçº§è®¾ç½®çš„è¶Šé«˜çš„è¶Šéš¾è¢«å‹ç¼©ï¼Œä¼˜å…ˆå‹ç¼©ä¼˜å…ˆçº§ä½çš„labelã€‚
